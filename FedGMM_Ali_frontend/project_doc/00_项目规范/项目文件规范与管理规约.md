# 项目级文件规范与管理规约

## 1. 总则

### 1.1 目的
为确保项目文件体系的规范性、一致性和可维护性，明确各类文件的创建标准、存放路径、命名规则及内容格式，特别针对Markdown(.md)文件制定专项管理条款，限制AI工具的使用权限。

### 1.2 适用范围
本规约适用于FedGMM_Ali_frontend项目及其子项目的所有文件管理活动。

## 2. 文件类型分类

### 2.1 文档类文件
- **Markdown文档**(.md)：项目规划、设计文档、技术说明、规范等
- **SPEC文档**(.spec.md)：页面规格说明文档
- **PDF文档**(.pdf)：最终报告、论文等

### 2.2 代码类文件
- **Python文件**(.py)：系统实现代码
- **配置文件**(.yaml/.yml/.json)：系统配置
- **依赖文件**(requirements.txt)：项目依赖
- **虚拟环境配置**：Python虚拟环境相关配置

### 2.3 数据类文件
- **日志文件**(.log)：训练过程日志
- **模型文件**(.pth/.pt)：已训练模型
- **数据文件**(.csv/.json)：系统使用数据

## 3. 文件存放路径规范

### 3.1 文档类文件存放路径
- **项目调研文档**：`01_项目调研/`
- **系统架构设计文档**：`02_系统架构设计/`
- **功能模块设计文档**：`03_功能模块设计/`
- **论文内容文档**：`04_论文内容生成/`
- **详细设计文档**：`05_详细设计/`
- **架构方案文档**：`06_系统架构方案/`
- **页面文档**：`pages/[页面名称]/docs/`

### 3.2 代码类文件存放路径
- **主代码文件**：`src/`
- **组件代码**：`src/components/`
- **工具代码**：`src/utils/`
- **页面代码文件**：`pages/[页面名称]/code/`
- **配置文件**：`config/`
- **虚拟环境目录**：`venv/`（项目根目录下）

### 3.3 数据类文件存放路径
- **训练日志**：`data/logs/`
- **模型文件**：`data/models/`
- **数据文件**：`data/`

## 4. 文件命名规则

### 4.1 通用命名规则
- 使用**中文全称**命名，避免缩写
- 使用**下划线(_)**分隔单词，不使用空格
- 文件名应**清晰反映文件内容**
- 避免使用特殊字符

### 4.2 文档类文件命名规则
- **Markdown文档**：`[文档类型]_详细描述.md`
  - 示例：`项目调研报告.md`、`系统架构设计文档.md`
- **SPEC文档**：`[页面名称].spec.md`
  - 示例：`系统首页.spec.md`、`推荐展示页面.spec.md`

### 4.3 代码类文件命名规则
- **Python文件**：使用小写字母，下划线分隔单词
  - 示例：`main.py`、`data_loader.py`
- **配置文件**：清晰反映配置内容
  - 示例：`config.yaml`、`model_config.json`

### 4.4 数据类文件命名规则
- **日志文件**：包含时间戳和训练参数
  - 示例：`train_log_20260213_001.log`
- **模型文件**：包含模型名称和训练日期
  - 示例：`fedgmm_model_20260213.pth`

## 5. 内容格式要求

### 5.1 Markdown文档格式规范
- 使用**标题层级**清晰组织内容
- 代码块使用```语言标识
- 表格使用标准Markdown表格格式
- 图片使用相对路径引用
- 文档开头包含**文档目的**和**适用范围**
- 文档结尾包含**版本历史**

### 5.2 代码文件格式规范
- 遵循**PEP 8**编码规范
- 函数和类使用**文档字符串**
- 关键代码添加**注释**
- 使用**相对导入**避免路径问题

### 5.3 配置文件格式规范
- 使用**缩进**保持结构清晰
- 配置项添加**注释**说明
- 使用**统一的命名风格**

### 5.4 Python虚拟环境规范
- **创建规范**：项目必须在独立的Python虚拟环境中运行
- **环境名称**：使用`venv`作为虚拟环境目录名
- **创建位置**：虚拟环境目录必须位于项目根目录下
- **依赖管理**：使用`requirements.txt`文件管理项目依赖
- **激活方式**：
  - Windows: `venv\Scripts\activate`
  - Linux/Mac: `source venv/bin/activate`
- **安装依赖**：激活虚拟环境后，使用`pip install -r requirements.txt`安装依赖
- **环境隔离**：确保所有Python包安装在虚拟环境中，避免全局依赖冲突

## 6. Markdown文件专项管理条款

### 6.1 创建规范
- Markdown文件创建需**经项目负责人审批**
- 新创建的Markdown文件需在`README.md`中**更新文档结构**
- 文档内容需**符合项目整体风格**

### 6.2 修改规范
- 修改Markdown文件需**记录修改原因**和**修改内容**
- 重大修改需**经项目负责人审批**
- 修改后需**更新版本历史**

### 6.3 删除规范
- Markdown文件**禁止随意删除**
- 确需删除的文件需**经项目负责人审批**
- 删除前需**备份文件内容**

## 7. AI工具使用规范

### 7.1 权限限制
- **未经明确指令**，AI工具**禁止创建、修改或删除**Markdown文件
- **未经审批流程**，AI工具**禁止修改**任何文档类文件

### 7.2 使用流程
1. 提出AI工具使用**申请**
2. 明确**使用目的**和**操作范围**
3. 获得**项目负责人审批**
4. 执行AI工具操作
5. **记录操作内容**和**结果**
6. 提交**操作报告**

### 7.3 操作记录
- AI工具操作需**详细记录**
- 记录内容包括：操作时间、操作人、操作内容、操作结果
- 操作记录需**保存至少3个月**

## 8. 违规处理机制

### 8.1 违规行为定义
- 未经审批创建、修改或删除Markdown文件
- 违反文件命名规则和存放路径规范
- AI工具未经授权操作文档类文件
- 未记录操作内容和结果

### 8.2 处理措施
- **首次违规**：口头警告，责令整改
- **二次违规**：书面警告，记录在案
- **多次违规**：取消文件操作权限，由他人代行
- **严重违规**：上报项目管理部门处理

## 9. 存放目录结构说明

### 9.1 标准目录结构
```
FedGMM_Ali_frontend/
├── README.md                    # 项目说明文档
├── venv/                        # Python虚拟环境目录
├── backend/                     # 后端代码目录
│   ├── src/                     # 后端源代码
│   ├── config/                  # 后端配置文件
│   └── requirements.txt         # 后端依赖文件
├── frontend/                    # 前端代码目录
│   ├── css/                     # 前端样式文件
│   ├── js/                      # 前端脚本文件
│   ├── pages/                   # 页面文件夹
│   │   ├── adaptive/            # 自适应迭代分析页面
│   │   │   ├── code/            # 代码文件子文件夹
│   │   │   └── docs/            # 文档资料子文件夹
│   │   ├── communication/       # 通信压缩分析页面
│   │   │   ├── code/            # 代码文件子文件夹
│   │   │   └── docs/            # 文档资料子文件夹
│   │   ├── comparison/          # 综合对比页面
│   │   │   ├── code/            # 代码文件子文件夹
│   │   │   └── docs/            # 文档资料子文件夹
│   │   ├── personalization/     # 个性化权重分析页面
│   │   │   ├── code/            # 代码文件子文件夹
│   │   │   └── docs/            # 文档资料子文件夹
│   │   └── recommendation/      # 推荐展示页面
│   │       ├── code/            # 代码文件子文件夹
│   │       └── docs/            # 文档资料子文件夹
│   └── index.html               # 前端首页
├── project_doc/                 # 项目级文档目录
│   ├── 00_项目规范/              # 项目规范文档
│   ├── 01_项目调研/              # 项目调研文档
│   ├── 02_系统架构设计/           # 系统架构设计文档
│   ├── 03_功能模块设计/           # 功能模块设计文档
│   ├── 04_论文内容生成/           # 论文内容文档
│   ├── 05_详细设计/              # 详细设计文档
│   └── 06_系统架构方案/           # 架构方案文档
└── requirements.txt            # 项目依赖
```

### 9.2 目录管理规范
- 目录结构需**保持稳定**，确需调整需经项目负责人审批
- 新目录创建需**更新README.md**中的目录结构
- 目录名称需**清晰反映目录用途**
- **页面文件夹**管理规范：
  - 每个独立页面必须集中存放在一个独立的页面文件夹内
  - 页面文件夹必须包含两个必要的子文件夹：
    - `code/`：专门用于存放代码文件（如.js, .ts, .vue, .jsx, .tsx等源代码文件）
    - `docs/`：专门用于存放文档资料（如需求文档、设计说明、接口文档、测试用例等文档类文件）
  - 页面文件夹名称需**清晰反映页面功能**

## 10. 附则

### 10.1 规约更新
- 本规约需**定期审查**和更新
- 更新需经项目团队**集体讨论**通过
- 更新后需**通知所有团队成员**

### 10.2 解释权
- 本规约的最终解释权归项目管理部门所有

### 10.3 生效日期
- 本规约自发布之日起生效

## 11. 版本历史

| 版本 | 日期 | 修改内容 | 修改人 |
|------|------|----------|--------|
| v1.4 | 2026-02-18 | 添加Python虚拟环境规范：1. 在代码类文件中添加虚拟环境配置类型；2. 规定虚拟环境存放路径为项目根目录下的venv目录；3. 添加Python虚拟环境使用规范，包括创建、激活和依赖管理要求；4. 在标准目录结构中添加虚拟环境目录 | 系统生成 |
| v1.3 | 2026-02-14 | 完善文档内容：1. 移除架构方案文档路径中的"待确认"标注；2. 添加backend目录的详细结构说明 | 系统生成 |
| v1.2 | 2026-02-14 | 在项目根目录下组织三个主要子文件夹：backend（后端代码目录）、frontend（前端代码目录）和project_doc（项目级文档目录），并调整相关文件结构 | 系统生成 |
| v1.1 | 2026-02-14 | 修改前端项目文件组织结构规范，要求每个独立页面的所有相关资源必须集中存放在一个独立的页面文件夹内，包含code和docs两个子文件夹 | 系统生成 |
| v1.0 | 2026-02-13 | 初始版本 | 系统生成 |