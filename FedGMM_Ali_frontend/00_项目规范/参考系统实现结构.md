# 第五章 基于区块链的隐私增强联邦学习系统设计与实现

## 5.1 引言

随着联邦学习的应用逐步扩大，对训练过程的可管理性、贡献评估和操作便捷性的需求不断增强。为此，本章设计并构建了一套基于区块链的联邦学习系统，该系统包含模型训练、训练管理、贡献管理、用户管理以及日志记录等功能，其目标是打造一个高效、透明化的联邦学习训练与管理环境。

该系统运用可视化界面，用户可以快捷完成模型训练参数配置、加密方式选择、贡献值查询等操作，同时对训练进度及结果开展实时监控。此外，训练完成后可呈现客户端在联邦学习中的总贡献值、当选领导人节点次数，亦支持贡献值排序、查询任务，为系统公平性评估提供直观依据。系统也支持查看、管理及下载训练信息，并且提供日志功能，帮助用户跟踪训练走向。

本章将针对系统的整体架构、功能设计与实现逻辑进行分析，核实其在联邦学习任务管理与贡献评估方面的可行性，为后续的研究和应用提供支撑。

## 5.2 系统概述

基于区块链的联邦学习系统是一套支持模型训练、训练管理、贡献评估以及用户操作的联邦学习平台，其目的是实现高效、透明和可追溯的训练管理环境。

该系统的主要功能是针对联邦学习训练任务开展配置及执行，便于用户跟踪训练实施进程，并针对各客户端的贡献情形开展分析。

系统采用模块化的设计方式，涉及模型训练、训练管理、贡献管理、用户管理和日志信息五大核心功能模块，用户在系统里可配置训练参数，并借助可视化界面实时监控训练进度与结果。训练结束后，系统实行对训练记录的管理，支持对训练结果做查询、修改、下载处理，并与贡献管理模块相结合，直观呈现客户端的本轮贡献值、总贡献值、当选领导人节点次数等关键信息。用户可以凭借训练名称、训练编号、训练轮次等信息实施贡献值的查询，亦支持贡献值排序、重置查询和贡献数据下载任务，进而对各客户端的长期贡献及训练表现加以评估。

本系统适用于联邦学习实验和隐私增强模型的管理工作，为研究人员和开发者提供了可视化、简单易用且具备贡献评估能力的训练管理工具，利于开展联邦学习实验、模型优化及公平性分析。

## 5.3 系统需求分析

为保证本系统可满足用户的实际需求，并拥有良好的可用性和稳定性，本文从用户需求分析、功能需求分析和性能需求分析三个方面对系统的需求做详细说明。

### 5.3.1 用户需求分析

该系统是一个基于区块链的隐私增强联邦学习系统，主要用于多方数据协作、联邦学习模型训练及贡献评估。依据用户的身份和职责差异，系统的用户主要分为管理员和普通用户。不同类型的用户在操作系统时具备不同的功能诉求。

#### （1）管理员的需求

管理员作为系统的管理者，担负系统维护、用户管理、训练任务管理及贡献评估等事务，保障系统稳定执行、安全无患且数据管理规范严谨。在系统运行层面，管理员需要对系统参数实施管理，保证联邦学习任务顺利开展，并对系统状态开展实时监测，以防止异常行为对整体系统稳定性造成干扰；围绕用户权限控制层面，管理员应被赋予用户管理权限，即可以添加、修改和删除系统用户，保证普通用户只能对自己的数据实施访问与管理，而管理员可针对全体用户实施管理；与此同时，管理员在训练数据监管方面也具备重要权限。为实现系统正常运行的既定目标，管理员需要查询与监管所有用户的训练记录，且具备删除训练记录的权限，以维护数据的实际有效；管理员也需处置贡献管理方面的事务，能够查看所有客户端的贡献相关数据，包括总贡献值、当选领导人节点次数等信息，且能依据训练名称、训练编号或轮次查询贡献情况，以便进一步有针对性地开展对贡献评估结果的分析；此外，管理员需要访问训练日志，监控系统的运行状态，且在必要的时候删除无效或过期的日志，保障系统稳定运行。

#### （2）普通用户的需求

普通用户是系统的主要使用人群，重点围绕模型训练、训练结果管理、贡献评估及日志信息查询展开。用户应能选择合适的模型和数据集，自行设置训练所需的参数，如训练轮数、批量大小、学习率等，并开启训练任务；在训练起始阶段，用户应能实时监控训练进展，待训练完成后查看系统生成的训练记录，包括训练名称、准确率、使用的数据集以及模型等关键信息，同时用户应能对训练名称及备注做修改，进而便于自身针对训练数据进行管理，下载训练成果，以便进一步针对模型表现开展多方面分析；在贡献评估方面，用户应能查看自身在每轮训练中的贡献值、历史贡献值以及是否当选领导人节点，并通过贡献值调整本地训练策略；此外，普通用户还应具备训练日志访问能力，可用于追踪训练过程中的系统响应与任务状态，及时发现潜在异常，提升任务可控性与透明度。

### 5.3.2 功能需求分析

本系统是一个基于区块链的隐私增强联邦学习系统，主要包含模型训练、训练管理、贡献管理、用户管理和日志信息这五大核心功能。这些功能模块共同构成了完整的联邦学习平台，保障用户能够高效地开展模型训练与管理，进而增强数据的安全性与系统的稳定性。

#### （1）模型训练

模型训练是系统的核心功能，包括参数配置、训练启动、训练状态监控等任务。在开展模型训练前，系统需赋予用户在训练前拥有设定模型参数、学习参数和加密参数的权限。在模型开展训练的过程中，系统应实时反馈训练的进展情形，呈现当前轮次的准确率和损失值情况，帮助用户直观地了解模型的训练成效。用户还可以在训练过程中选择中止训练，系统应自动把现有的训练记录留存，并储存于日志信息页面，以便后续进行分析及优化。

#### （2）训练管理

训练管理则把重点放在对用户的历史训练信息实施存储和管理，拥有便利的数据查询与记录维护功能。系统应支持用户通过数据集、模型类型、发起人等条件筛选训练记录的能力，并且能够查看训练的详细信息。用户可针对自己的训练记录实施修改，例如修改训练名称或备注，以便开展后续的管理和分析。管理员除享有全部查询、修改权限以外，也能够删除训练记录，以保障系统数据的规范性与有效性。

#### （3）贡献管理

贡献管理负责展示各客户端的贡献情况，包括总贡献值、当选领导人节点次数等关键信息，同时在训练结束后呈现本轮贡献值排行以及历史贡献值排行，保证贡献评估的透明性。用户可按照训练名称、训练编号及训练轮次查询贡献情况，且支持依据贡献值的大小进行排序，直观分析不同客户端在训练期间的贡献。系统应当支持贡献数据下载功能，便于开展进一步分析和存档。系统还添加查询重置功能，实现数据管理的便捷性。管理员可对所有用户的贡献情况进行整体把控，维护系统的公平性与贡献评估的可追溯性。

#### （4）用户管理

用户管理主要进行系统用户的管理以及权限控制功能，以保障系统兼顾可操作性与安全性。普通用户有权对所有账户信息进行查看，且能够对自己的密码、邮箱和电话号码等进行修改，而管理员拥有更高级的权限，包括添加、修改和删除用户信息，让系统的用户数据更新至最新状态。管理员可对用户的角色权限实施管理，让普通用户仅可管理自己的数据，而自身具备全局管理的能力，保障系统的公平性与可控性。

#### （5）日志信息

日志信息主要针对系统内的关键操作信息予以记录。用户可搜索全部的训练日志，并查看日志的训练详情，包含训练过程中的配置参数、训练状态以及全面的训练流程描述。为了让用户快速查找日志，系统给出多样化的筛选条件，如数据集、模型类型、发起人等。管理员则拥有删除日志的权限，可以清理过期或无效的日志数据，以实现系统存储管理的优化。

考虑到管理员在系统中承担全局性管理职责，其权限范围覆盖模型训练、训练管理、贡献管理、用户管理与日志信息等全部功能模块。即便某些功能如模型训练并非常规操作项，管理员仍需具备相应权限，以便在系统测试或权限核查等场景中灵活调用相关功能。相比于普通用户的功能权限通常局限于自身数据与操作范围，管理员更侧重于对全局状态的掌控与跨模块的信息管理。

基于上述权限覆盖关系，系统在用例图设计中采用泛化关系对用户角色进行建模，将管理员作为普通用户的扩展角色进行定义。该设计不仅保留了角色之间的继承逻辑，也使系统权限层次更为清晰。在此结构下，管理员继承了普通用户的基本功能操作路径，同时引入了若干面向系统级管理的高级操作，如用户账户增删、日志信息清理、训练数据维护及贡献评估监管等。该设计体现了系统权限结构的层次性与逻辑一致性，有助于清晰划分用户职责并规范权限控制机制。

### 5.3.3 性能需求分析

在系统达成基本功能需求后，为使用户可以顺利使用系统，且增进整体使用便捷度，需保障系统的相关性能。尽管本系统的功能较为基础，但仍需在以下几个方面达成基本的性能需求，以保障系统能够稳定运行并给予用户良好体验。

#### （1）系统稳定性

该系统支持多个用户同时使用，涉及模型训练、训练管理、贡献管理、用户管理及日志信息功能。为了让系统在正常情况下可稳定运行，应保障用户在实施训练任务、查询数据以及管理用户等阶段，不会因系统故障导致操作出现失败的状况。系统采用常见的数据库存储方式，确保数据不会因异常中断而丢失。同时在训练过程实施阶段给予状态的反馈，保证用户随时可对训练进程进行查看。如果训练过程中出现异常情况，系统可把训练中出现的错误信息记录，有助于后续故障排查工作。

#### （2）数据存储可靠性

系统的核心数据由训练记录、贡献信息、用户信息和日志信息构成，这些数据的存储需要保障完整性和可查询性。用户需要有随时查询自己训练记录的权限，并取得对应的训练结果，而管理员需要对用户及训练数据加以管理，因此数据库的存储和访问需要维持稳定。系统采用关系型数据库进行存储，并提供简单的数据备份机制，防止因系统异常造成数据丢失。此外日志管理功能可以把系统运行状态记录下来，方便管理员对系统运行状况加以监控。

#### （3）系统响应速度

本系统的功能主要涉及用户对数据库的相关操作，因此系统的响应速度需维持在合理范围内。系统采用常见的数据查询优化方式，减少数据库查询阶段的时间消耗，保证用户在操作系统期间能够快速获取所需信息。为实现页面加载效率的提升，系统采用基础的前端缓存机制，减少重复的请求，增进用户体验感。从训练任务的进度展示来看，系统赋予简单的实时反馈机制，用户可直观地查看训练进度，而不必等到训练结束后再去查看结果。

#### （4）系统并发性

本系统主要针对单个组织以及小规模用户的使用偏好，通常不会有大量用户同时进行操作，因此并发性要求较低。但为了保证多个用户可在同一时间访问系统，系统仍然支持基本的多用户并发访问。例如多个用户可同时开展针对训练记录的查询，或者管理员在用户使用系统的阶段同步管理用户信息。就数据库访问而言，系统运用基础的事务管理，保证多个用户同时操作时数据不会面临冲突或丢失的现象。

#### （5）系统易用性

本系统针对的用户群体可能不具备深厚的技术背景，因此系统的界面设计应当简单直观。在训练任务的配置阶段中，系统给出清晰的输入框和选择框，保证用户可以直观地完成参数设定，减少用户的实施操作的难度。同时用户管理和训练管理页面的查询功能支持模糊查询，用户可便捷高效地筛选与查找所需信息。此外日志管理页面呈现了详细的训练过程信息，便于用户查看系统的运行状况，而不用手动记录。

## 5.4 系统设计

### 5.4.1 系统架构设计

本系统采用分层架构设计，把系统功能拆分为模型层、视图层、控制层和算法层，各层相互协作，以保证系统功能清晰、可扩展性强，且能满足不同用户的需求。

#### （1）模型层

模型层作为系统的数据管理核心，承担着系统里用户信息、训练信息、贡献信息、日志信息以及模型相关参数的存储与维护工作，该层赋予数据增删改查的功能，并保证数据在系统里的一致性和完整性。模型层向其他层提供数据支持，是系统稳定运行的关键支撑。

#### （2）视图层

视图层是系统的用户交互界面，承担接收用户输入并呈现系统功能的职责。该层包含模型训练、训练管理、贡献管理、用户管理和日志信息等主要界面，让用户能够直观地对该系统进行操作。视图层借助调用控制层相关功能，实现用户与系统的交互操作，还把系统反馈的信息以直观的方式呈递给用户。

#### （3）控制层

控制层承担系统的核心业务逻辑，负责应对视图层提出的请求，并开展模型层和算法层之间的交互。该层实施对用户权限、训练信息、贡献信息及日志信息的管理，让不同用户的操作权限与系统规则达成一致，并维持系统的正常工作。控制层还提供一系列接口，保证系统的各个功能模块可以顺畅衔接，并维护系统整体的长期稳定性。

#### （4）算法层

算法层作为系统的计算核心，承担着开展模型训练、参数优化、梯度处理、贡献评估及数据加密等任务。用户于视图层配置训练参数后，控制层将任务呈交给算法层实行核算。当算法层完成训练任务后，把结果回传给控制层，且由视图层呈现给用户。该层确保系统具备联邦学习的基本能力，且支持不同的训练策略，以实现不同应用的要求。

本系统所采用的分层架构让各层功能独立，实现了系统的模块化设计，增强了系统的可扩展性与维护性。各层通过接口开展交互，让系统拥有能力灵活应对多样应用场景的能力，并为未来功能的扩充起到支撑作用。

### 5.4.2 系统功能设计

为实现系统在多角色共同参与下高效、有序地运行，本系统在功能设计阶段遵循"权限分层、职责划分"的原则，依照不同角色的使用需求展开模块化功能规划，就整体来说系统功能可划分成两个主要部分：管理员端功能设计与用户端功能设计。

#### （1）管理员端功能设计

管理员端面向系统的全局运维与权限控制场景，覆盖模型训练、训练管理、贡献管理、用户管理与日志信息五大功能模块。管理员除具备对训练任务参数进行配置及控制的能力外，还可对用户数据、训练记录及贡献信息进行综合性管理，也可借助日志管理实现系统状态的持续监督与维护。该端功能设计把系统的安全性、稳定性与数据一致性作为重点考量，维持联邦学习平台在多用户协同工作环境下的有序性。

#### （2）用户端功能设计

用户端聚焦于模型训练与个体数据管理，涵盖模型配置、训练控制、贡献查看、信息维护与日志查询等关键功能。用户有自主发起训练任务、跟踪训练动态、下载训练结果的权限，并可对贡献表现进行查询。同时系统对用户的权限加以约束，保障其仅具备操作自身相关数据的权限，借此在强化操作灵活性的同时稳固系统整体的安全与公正。

### 5.4.3 系统流程设计

本系统的核心流程围绕模型训练、训练管理、贡献管理、用户管理和日志信息五大模块展开。主要包括模型训练初始化、训练任务执行、结果存储与查询，保障用户顺利完成训练任务并对相关数据进行统一管理。

在训练启动前，用户需完成参数配置，包括算法类型、模型选择、数据集、训练轮数、批量大小、学习率等，随后系统生成训练任务并存入数据库，便于后续管理。

训练执行过程中，系统根据配置自动开展模型训练，实时呈现训练进度，并记录训练轮次、损失值与准确率等中间结果。用户可实时查看训练状态，并在需要时中止训练。任务完成后，系统将模型结果及相关信息存储，并提供可视化反馈，方便用户分析模型性能。

训练结束后，训练记录将同步存入训练管理模块，用户可按条件筛选历史记录，普通用户可修改自身记录，管理员则具备删除权限，保障数据有序管理。

系统同时会计算客户端贡献值并更新至贡献管理模块，支持本轮与历史贡献排行查看、数据查询与排序。用户可按训练名称、编号或轮次检索贡献数据，管理员可统一管理与评估各客户端贡献，提升系统公平性与可追溯性。

此外，系统将训练过程中的关键信息写入日志管理模块，用户可查看训练日志详情以辅助调试与分析，管理员可删除无效日志，提升系统存储效率与运行稳定性。

## 5.5 系统数据库设计

为支持系统的训练流程管理、参数配置、用户权限控制以及贡献度评估等功能，本文设计了结构清晰、功能划分明确的数据库架构。下面主要对六张核心数据表进行介绍，分别是：用户信息表、训练信息表、模型参数表、联邦学习参数表、加密参数表与贡献信息表。

### （1）用户信息表

该表用于存储系统中所有用户的基础信息，包括用户名、联系方式、身份角色及账户状态。该表是整个系统的用户管理基础，其他功能模块如训练发起人、权限控制等都依赖于此表。

**表 5-1 用户信息表**

| 序号 | 字段名称 | 字段类型 | 说明 |
|------|----------|----------|------|
| 1 | user_name | VARCHAR(64) | 主键，唯一标识用户 |
| 2 | role | VARCHAR(20) | 用户/管理员 |
| 3 | phone | VARCHAR(20) | 联系电话 |
| 4 | email | VARCHAR(100) | 电子邮箱 |
| 5 | status | VARCHAR(10) | 启用/停用 |

### （2）训练信息表

该表记录每一次发起的训练任务，包括任务标识、发起人、使用算法、所选模型和数据集、最终准确率及任务创建时间等，是系统中训练管理模块的核心数据表。

**表 5-2 训练信息表**

| 序号 | 字段名称 | 字段类型 | 说明 |
|------|----------|----------|------|
| 1 | training_id | INT | 主键，唯一标识训练任务 |
| 2 | training_name | VARCHAR(100) | 训练任务名称 |
| 3 | initiator | VARCHAR(64) | 发起人，关联用户表 |
| 4 | algorithm | VARCHAR(100) | 联邦学习算法名称 |
| 5 | start_time | DATETIME | 训练任务的发起时间 |
| 6 | accuracy | FLOAT | 最终模型准确率 |
| 7 | model_type | VARCHAR(100) | 使用模型类型 |
| 8 | dataset_type | VARCHAR(100) | 使用数据集类型 |
| 9 | remarks | TEXT | 备注 |

### （3）模型参数表

该表记录每个训练任务对应的模型参数配置，如全局训练次数、本地训练次数、学习率、动量等，它不仅支撑训练任务的初始化执行，也为后续模型效果分析与参数调优提供了可追溯的依据。

**表 5-3 模型参数表**

| 序号 | 字段名称 | 字段类型 | 说明 |
|------|----------|----------|------|
| 1 | training_id | INT | 外键，关联训练任务 |
| 2 | global_epochs | INT | 全局训练次数 |
| 3 | local_epochs | INT | 本地训练次数 |
| 4 | batch_size | INT | 批量大小 |
| 5 | learning_rate | FLOAT | 学习率 |
| 6 | momentum | FLOAT | 动量 |
| 7 | lambda_value | FLOAT | λ 值 |

### （4）联邦学习参数表

该表存储与联邦训练策略相关的配置参数，包括客户端总数、每轮参与数量、领导人和委员会数量、压缩率等，它为系统执行联邦训练提供策略依据，影响节点选举和整体协作效率，是控制训练流程与结构的关键配置表。

**表 5-4 联邦学习参数表**

| 序号 | 字段名称 | 字段类型 | 说明 |
|------|----------|----------|------|
| 1 | training_id | INT | 外键，关联训练任务 |
| 2 | algorithm_type | VARCHAR(100) | 使用算法类型 |
| 3 | total_clients | INT | 总客户端数 |
| 4 | per_round_clients | INT | 每轮参与客户端数 |
| 5 | num_leaders | INT | 领导人数 |
| 6 | num_verifiers | INT | 验证委员会数 |
| 7 | num_evaluators | INT | 贡献评估委员会数 |
| 8 | compression_rate | FLOAT | 压缩率 |
| 9 | a_value | FLOAT | α 值 |

### （5）加密参数表

该表用于记录训练过程中涉及的加密参数配置，如所选加密算法类型、密钥长度和门限值等，为支持加密计算的模块提供参数依据。

**表 5-5 加密参数表**

| 序号 | 字段名称 | 字段类型 | 说明 |
|------|----------|----------|------|
| 1 | training_id | INT | 外键，关联训练任务 |
| 2 | encryption_type | VARCHAR(50) | 加密类型 |
| 3 | key_length | INT | 密钥大小 |
| 4 | threshold | INT | 门限值 |

### （6）贡献信息表

该表用于记录每轮训练中，每个客户端的贡献度表现、领导人当选情况及贡献累计结果，是支持公平激励与安全机制的重要基础表。

**表 5-6 贡献信息表**

| 序号 | 字段名称 | 字段类型 | 说明 |
|------|----------|----------|------|
| 1 | training_id | INT | 外键，关联训练任务 |
| 2 | client_id | INT | 客户端编号 |
| 3 | round_number | INT | 第几轮数据 |
| 4 | round_contribution | FLOAT | 当前轮贡献值 |
| 5 | total_contribution | FLOAT | 历史贡献值 |
| 6 | leader_count | INT | 累计当选领导人次数 |

## 5.6 系统开发与实现

该系统由登录功能模块、模型训练功能模块、训练管理功能模块、贡献管理功能模块、用户管理功能模块和日志信息功能模块六大核心功能模块组成。各功能模块相互配合，共同构建完整的联邦学习管理系统，保障用户可以顺利完成模型训练，并切实有效管理相关数据。

### （1）登录模块

该模块可实现用户身份验证，保障不同用户获得匹配的权限。用户填写用户名和密码后，系统进行验证，认证成功后进入相应的功能页面，用户仅能访问与自身相关的内容，管理员则可访问所有功能模块。

### （2）模型训练模块

该模块可实现模型训练，用户能够在界面中配置训练参数，包括模型类型、数据集、训练轮数、批量大小、学习率等，随后开启训练任务。在训练过程中，系统实时展示训练进度，包括当前轮次、损失值、准确率等，并提供停止训练功能。训练完成后，系统将训练结果存入训练管理模块。

### （3）训练管理模块

该模块可实现训练记录的存储和管理，用户可通过数据集、模型类型、发起人、使用算法等条件筛选训练记录，查看训练名称、数据集、训练时间、最终准确率等详细信息并进行下载。用户可对修改训练进行修改，但不能修改或删除他人记录，管理员可实现对训练记录的删除。

### （4）贡献管理模块

该模块可实现客户端贡献情况的展示和管理。在训练完成之后，用户可基于训练名称、训练编号或训练轮次查询贡献情况，并自行选择贡献值的升序排序或降序排序，以及当前轮次的贡献值排行和历史贡献值排行。如有需要进行后续的分析，用户也可以进行贡献数据的下载并调整贡献评估策略，管理员则可实现对贡献数据的全局管理。

### （5）用户管理模块

该模块可实现用户信息及权限的管理。用户可以修改个人信息（如邮箱、电话、密码等），但不能修改用户名。管理员可以添加、修改和删除用户，并对用户角色开展分配工作，以保障系统的正常管理。

### （6）日志信息模块

该模块用于记录系统运行过程中的关键信息，保障用户可追溯系统的历史操作。日志信息主要包括训练任务的执行状态、用户操作日志和错误日志，用户可以查询所有日志，并查看训练过程的详细记录，以便在训练失败或效果不佳时进行分析和调整。但用户不能删除日志，而管理员可以删除日志，保证存储空间得到合理利用。

## 5.7 系统测试

软件测试是验证软件系统是否符合设计要求的过程，目的在于找出系统中的错误和缺陷，保证其稳定性与可靠性。本章主要围绕功能测试和性能测试这两个方面开展分析，功能测试检查系统各模块是否正常达成目标，性能测试则评估系统在不同负载条件下的响应效率和稳定性。

### 5.7.1 系统功能测试

基于前文中对系统功能的设计，本系统的功能主要分为模型训练管理模块、训练记录管理模块、贡献管理模块、用户管理模块和日志管理模块。在对系统功能进行测试时，为了更好地测试相关功能是否正常，需分别针对这五部分功能设计不同的测试用例开展测试。在测试过程中，各个测试用例均会明确测试步骤及预期结果，并通过测试结果判断系统功能是否实现预期要求。测试工作不仅验证了系统功能的正确性，也为后续系统优化与稳定性提升提供了数据支撑。

#### （1）模型训练模块测试

模型训练模块可实现训练模型，包括训练参数配置、训练启动、训练状态监控等。用户可以在该模块中选择想要的训练算法，并在训练管理界面查询使用的算法信息。测试着重于参数的设置、训练的开展及结果的保存等方面。该模块作为联邦学习流程的起点，直接影响后续贡献评估与模型性能表现。

**表 5-7 模型训练模块测试**

| 测试项目 | 测试步骤 | 预期结果 | 测试结果 |
|----------|----------|----------|----------|
| 创建训练任务 | 输入配置参数，点击创建 | 配置参数成功创建 | 符合预期 |
| 训练任务启动 | 配置好参数后，点击开始训练按钮 | 训练任务正常启动 | 符合预期 |
| 训练进度监控 | 观察训练任务页面 | 进度条正常显示当前轮数、损失值、准确率等 | 符合预期 |
| 停止训练 | 在训练过程中，点击停止训练按钮 | 训练停止，状态更新为"已停止" | 符合预期 |
| 训练结果显示 | 训练完成后，观察训练任务页面 | 训练图片正常显示 | 符合预期 |
| 训练记录存储 | 训练完成后，检查训练记录是否正常存储 | 训练记录正确保存 | 符合预期 |

#### （2）训练管理模块测试

训练管理模块可实现存储和管理用户的训练历史信息，用户可凭借特定条件（如数据集、模型类型、发起人、使用算法等）对训练记录进行查询。该模块不仅支持对训练记录的分类查看与动态维护，也为后续贡献评估与模型效果分析提供了数据基础。

**表 5-8 训练管理模块测试**

| 测试项目 | 测试步骤 | 预期结果 | 测试结果 |
|----------|----------|----------|----------|
| 训练记录查询 | 输入训练名称或编号，点击查询按钮 | 训练记录正确显示 | 符合预期 |
| 按关键信息筛选训练记录 | 选择算法或训练名称等进行筛选 | 仅显示匹配算法的训练记录 | 符合预期 |
| 训练记录添加 | 修改训练名称或备注 | 训练记录添加成功 | 符合预期 |
| 训练记录删除 | 选择某条训练记录，点击删除按钮 | 训练记录删除成功 | 符合预期 |
| 训练记录修改 | 选择某条训练记录，点击修改按钮 | 训练记录修改成功 | 符合预期 |
| 训练记录下载 | 下载某条训练记录，点击下载按钮 | 训练记录下载成功 | 符合预期 |
| 训练记录查询重置 | 点击重置按钮 | 输入框内容清空 | 符合预期 |

#### （3）贡献管理模块测试

贡献管理模块可展示客户端在每轮训练中的贡献情况，并支持多种查询及排序方式。用户可根据训练名称、训练编号或轮次筛选贡献数据，系统还支持历史贡献值下载与查询重置操作，便于进一步分析与归档。该模块在保障评估过程透明性的同时，也为后续激励分配与角色选举提供了可信的依据。

**表 5-9 贡献管理模块测试**

| 测试项目 | 测试步骤 | 预期结果 | 测试结果 |
|----------|----------|----------|----------|
| 贡献值查询 | 选择训练名称、编号或轮次，点击查询 | 对应训练的贡献数据正确显示 | 符合预期 |
| 贡献值排序 | 选择按总贡献值或本轮贡献值排序 | 排序结果符合要求 | 符合预期 |
| 贡献数据下载 | 点击下载按钮 | 贡献数据表格成功导出 | 符合预期 |
| 贡献查询重置 | 点击重置按钮 | 输入框内容清空 | 符合预期 |

#### （4）用户管理模块测试

用户管理模块可实现系统用户的管理和权限控制，并支持所有用户的查询。

**表 5-10 用户管理模块测试**

| 测试项目 | 测试步骤 | 预期结果 | 测试结果 |
|----------|----------|----------|----------|
| 用户查询 | 输入用户名或选择角色等信息，点击查询 | 用户查询成功 | 符合预期 |
| 用户添加 | 输入用户名、密码、角色等信息，点击确定 | 账号创建成功 | 符合预期 |
| 用户登录 | 输入正确的账号信息，点击登录 | 进入系统主页 | 符合预期 |
| 用户信息修改 | 修改邮箱、电话等信息 | 信息更新成功 | 符合预期 |
| 账号删除 | 管理员删除某个用户 | 该用户从系统中移除 | 符合预期 |

#### （5）日志信息模块测试

日志信息模块可记录系统的操作日志。

**表 5-11 日志信息模块测试**

| 测试项目 | 测试步骤 | 预期结果 | 测试结果 |
|----------|----------|----------|----------|
| 日志查询 | 按日期、用户、操作类型筛选日志 | 结果符合筛选条件 | 符合预期 |
| 按算法筛选日志 | 选择某个算法进行筛选 | 仅显示匹配的日志记录 | 符合预期 |
| 日志删除 | 管理员选择日志并点击删除 | 日志删除成功 | 符合预期 |

### 5.7.2 系统性能测试

在系统测试过程中，性能测试同样是不可或缺的重要环节。即便系统的各项功能在常规条件下能够满足业务需求，但在高负载或极端并发场景下，仍可能出现响应延迟或资源瓶颈等问题，从而影响整体系统的稳定性与用户体验。因此，有必要对系统的关键模块在高并发场景下的响应能力和处理效率进行深入测试。

本文提出的系统包含模型训练、参数配置、加密处理、贡献评估、角色选举等多个子模块，系统运行阶段涉及大量数据的上传、查询以及计算操作，尤其在多客户端同步进行并发训练、贡献度估算与加密通信等任务密集场景里，较高要求被施加于后端服务的计算与网络处理能力。因此本文借助 JMeter 工具开展系统性能表现的测试评估，其能够用于模拟不同并发强度状况下用户对系统的访问，测定不同线程数情况下各类请求的响应时间与系统承载能力。就本系统而言，性能测试主要聚焦于两个核心环节：模型训练任务的发起与处理过程，以及贡献管理模块中对多轮数据的查询响应效率。其中，模型训练响应时间指从用户提交训练任务到各客户端开始本地模型训练的启动延迟；贡献查询响应时间指在训练任务持续过程中，系统对特定训练编号与轮次下贡献值记录的查询速度。上述两项性能指标均与系统的处理能力密切相关，对其性能表现进行评估尤为关键。

多线程压力测试结果表明，系统在并发用户数量较情况下仍能保持稳定的响应时间，模型训练任务的平均启动延迟控制在可接受范围内，贡献查询响应速度基本稳定，说明系统具备良好的负载处理能力和并发执行能力。

**表 5-12 模型训练并发测试**

| 并发线程数 | 平均响应时间 | 异常率 | 测试结果 |
|------------|--------------|--------|----------|
| 10 | 小于 30s | 0.00% | 符合预期 |
| 30 | 小于 40s | 0.00% | 符合预期 |
| 60 | 小于 70s | 0.00% | 符合预期 |
| 100 | 小于 80s | 0.00% | 符合预期 |

**表 5-13 贡献查询并发测试**

| 并发线程数 | 平均响应时间 | 异常率 | 测试结果 |
|------------|--------------|--------|----------|
| 10 | 小于 5s | 0.00% | 符合预期 |
| 30 | 小于 15s | 0.00% | 符合预期 |
| 60 | 小于 20s | 0.00% | 符合预期 |
| 100 | 小于 25s | 0.00% | 符合预期 |

## 5.8 本章小结

本章完成了系统的整体设计与实现，包括功能模块划分、数据库结构构建与核心功能开发，并结合功能测试与性能测试验证了系统在正确性、稳定性与运行效率方面的综合表现。此外，系统各模块围绕联邦学习流程紧密衔接，有效支撑了前述算法在实际环境中的部署落地。
