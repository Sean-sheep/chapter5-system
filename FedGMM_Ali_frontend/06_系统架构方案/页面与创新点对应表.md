# 页面与创新点对应表（细化）

> 与《系统整体逻辑与架构设计》配套使用，用于逐页确认展示内容与数据来源。

---

## 一、总览：页面 ↔ 创新点 ↔ 数据来源

| 页面 | 所属主线 | 对应创新点 | 数据来源 |
|------|----------|------------|----------|
| 首页 | 入口 | — | 无 |
| 通信与压缩效果 | 训练过程展示 | 第三章：通信开销低 | **训练日志** |
| 自适应迭代 τ* 轨迹 | 训练过程展示 | 第四章：本地迭代次数动态变化 | **训练日志** |
| 个性化权重 γ 分析 | 训练过程展示 | 第三章：混合模型 + 客户端权重 | **训练日志** |
| 隐私与效用（可选） | 训练过程展示 | 第四章：差分隐私 | **训练日志** |
| 按城市推荐（消费品） | 用户推荐使用 | 第三章：个性化推荐更精准 | **已训练模型推理** |
| 多城市推荐对比 | 用户推荐使用 | 第三章：个性化差异 | **已训练模型推理** |

---

## 二、训练过程展示区（每页细化）

### 2.1 通信与压缩效果页

**目的**：用训练过程数据证明“通信开销低”的创新。

| 展示项 | 类型 | 说明 | 依赖日志字段 |
|--------|------|------|--------------|
| 压缩比例随轮次变化 | 折线图 | X=轮次，Y=压缩比例（可多客户端多条线） | round, (client_id), compression_ratio |
| 每轮通信量对比 | 柱状图或折线 | 原始 vs 压缩后通信量 | round, original_size, compressed_size |
| 通信统计表 | 表格 | 轮次、原始大小、压缩后大小、压缩比例、节省量 | 同上 |
| 汇总指标 | 指标卡 | 总轮次、平均压缩比例、总节省通信量、节省百分比 | 由上述字段计算 |

**交互**：可选轮次范围、可选客户端；导出表格/图。

---

### 2.2 自适应本地迭代 τ* 轨迹页

**目的**：用训练过程数据证明“聚合时本地迭代次数动态变化”的创新。

| 展示项 | 类型 | 说明 | 依赖日志字段 |
|--------|------|------|--------------|
| τ* 随轮次变化 | 折线图 | X=轮次，Y=τ*，多客户端多条线 | round, client_id, tau_star |
| τ* 统计表 | 表格 | 按客户端：平均τ*、标准差、最小/最大、变化次数 | 由 tau_star 序列计算 |
| 汇总指标 | 指标卡 | 全局平均τ*、自适应调整频率等 | 由上述计算 |

**交互**：选择要展示的客户端（城市）；可选轮次范围；导出。

---

### 2.3 个性化权重 γ 分析页

**目的**：用训练过程数据展示“多子模型 + 客户端混合权重”的个性化机制。

| 展示项 | 类型 | 说明 | 依赖日志字段 |
|--------|------|------|--------------|
| 某轮次各客户端 γ 分布 | 分组柱状图 | X=客户端/城市，Y=权重，分组=子模型 | round, client_id, gamma |
| 某客户端 γ 随轮次变化 | 折线图 | X=轮次，Y=某子模型权重 | round, client_id, gamma |
| γ 对比表 | 表格 | 轮次、客户端、各子模型权重 | 同上 |

**交互**：选择轮次、选择客户端；导出。

---

### 2.4 隐私与效用页（可选）

**目的**：若有第四章差分隐私实验，用训练日志展示隐私–效用权衡。

| 展示项 | 类型 | 说明 | 依赖日志字段 |
|--------|------|------|--------------|
| 隐私预算消耗 | 折线图 | X=轮次，Y=ε 消耗（累计或当轮） | round, epsilon_spent 等 |
| 效用指标随轮次 | 折线图 | HR@K / NDCG@K 等 | round, metric_name, value |

**交互**：可选轮次、可选指标；导出。

---

## 三、用户推荐使用区（每页细化）

### 3.1 按城市推荐（消费品推荐）页

**目的**：模拟“用户在使用推荐系统”，看到**被推荐的消费品**，体现个性化模型在实际使用中的效果。

| 展示项 | 类型 | 说明 | 数据来源 |
|--------|------|------|----------|
| 城市选择 | 下拉/单选 | 如 Tokyo / Osaka / Nagoya | 配置 |
| 用户ID输入 | 数字输入 | 模拟用户 | 用户输入 |
| Top-K 设置 | 数字/下拉 | 如 5 / 10 / 20 | 用户输入 |
| 推荐结果列表 | 表格/卡片 | 排名、商品ID、商品名称（消费品）、预测评分 | **模型推理**：该城市对应客户端个性化模型 → 前向推理 → Top-K |

**业务含义**：选择不同城市的“用户”看到不同推荐列表 → **推荐更精准**体现在这里。

---

### 3.2 多城市推荐对比页

**目的**：同一用户下，对比不同城市的推荐结果，**直观体现个性化差异**。

| 展示项 | 类型 | 说明 | 数据来源 |
|--------|------|------|----------|
| 多城市选择 | 多选 | 如 Tokyo + Osaka + Nagoya | 用户输入 |
| 用户ID | 数字输入 | 同一用户 | 用户输入 |
| 对比结果 | 表格/热力图 | 行=城市，列=推荐位次或商品；单元格=商品ID/名称或评分 | **模型推理**：每城市各做一次推理，汇总对比 |

**业务含义**：同一用户在不同城市得到的推荐列表不同 → 体现“个性化”使推荐更精准。

---

## 四、确认清单（请您勾选或修改）

- [ ] **双线逻辑**：训练过程展示（日志） / 用户推荐使用（推理） 的划分是否同意？
- [ ] **训练过程展示**：上述 4 个子页（通信压缩、τ*、γ、隐私可选）是否保留/增删？
- [ ] **用户推荐使用**：仅“按城市推荐”+“多城市对比”两页是否足够？
- [ ] **训练日志**：您当前/计划中的日志是否包含 `compression_ratio`、`tau_star`、`gamma` 等？若字段名或结构不同，请列出以便适配。
- [ ] **隐私页**：第四章是否需要在系统内展示“隐私与效用”？若需要，请列出可提供的日志字段。

**确认后即可按此方案进入代码实现阶段。**
